{"version":3,"sources":["assets/images/play-arrow.svg","components/spotify-top/spotify-top-artist-tracks.tsx","components/spotify-top/spotify-top-artists.tsx"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","d","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","_ref","svgRef","title","props","id","x","y","width","height","viewBox","style","enableBackground","xmlSpace","ref","ForwardRef","forwardRef","SpotifyTopArtistsTracks","artistId","useState","tracks","setTracks","useEffect","getArtistTopTracks","then","result","console","log","className","map","track","name","TrackCard","artistNames","getTrackArtistNames","artists","imageUrl","getTrackImageUrl","src","alt","ArtistSelector","artist","selected","setSelectedArtist","onClick","images","url","SelectedArtist","popularity","genres","genre","index","followers","Intl","NumberFormat","format","total","SpotifyTopArtists","useContext","AppContext","topArtists","setTopArtists","selectedTimeRange","prevSelectedTimeRange","saveSelectedTimeRange","selectedArtist","scrollSelector","left","selectorElement","document","querySelector","scrollAmount","offsetWidth","scrollBy","top","behavior","getUserTopArtists","items","fontSize"],"mappings":"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","file":"static/js/8.d2f1f372.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M34.857,3.613C20.084-4.861,8.107,2.081,8.107,19.106v125.637c0,17.042,11.977,23.975,26.75,15.509L144.67,97.275 c14.778-8.477,14.778-22.211,0-30.686L34.857,3.613z\"\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgPlayArrow = function SvgPlayArrow(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"163.861px\",\n    height: \"163.861px\",\n    viewBox: \"0 0 163.861 163.861\",\n    style: {\n      enableBackground: \"new 0 0 163.861 163.861\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPlayArrow, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/play-arrow.48922f83.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useState } from \"react\";\nimport { Track } from \"../../services/spotify-types\";\nimport { ReactComponent as PlaySvg } from \"../../assets/images/play-arrow.svg\";\nimport { getArtistTopTracks } from \"../../services/spotify-service\";\nimport { getTrackArtistNames, getTrackImageUrl } from \"./spotify-top-tracks\";\nimport \"./spotify-top-artist-tracks.scss\";\n\nexport const SpotifyTopArtistsTracks = ({ artistId }: { artistId: string }) => {\n  const [tracks, setTracks] = useState([] as Track[]);\n\n  useEffect(() => {\n    if (artistId) {\n      getArtistTopTracks(artistId).then((result) => {\n        setTracks(result.tracks);\n        console.log(tracks);\n      });\n    }\n  }, [artistId]);\n\n  return (\n    <>\n      {artistId && tracks && tracks.length > 0 && (\n        <div className=\"artist-top-tracks\">\n          <div className=\"artist-top-tracks__title\">Top tracks</div>\n          {tracks.map((track, i) => (\n            <TrackCard key={track.name + i} track={track} />\n          ))}\n        </div>\n      )}\n    </>\n  );\n};\n\nconst TrackCard = ({ track }: { track: Track }) => {\n  const artistNames = getTrackArtistNames(track.artists);\n  const imageUrl = getTrackImageUrl(track, 2);\n  return (\n    <div className=\"artist-top-tracks__card\">\n      <div className=\"artist-top-tracks__card__info\">\n        <div className=\"artist-top-tracks__card__info__name\">{track.name}</div>\n        {artistNames && (\n          <div className=\"artist-top-tracks__card__info__artists\">\n            {artistNames.map((name, i) => {\n              if (i + 1 === artistNames.length)\n                return (\n                  <div className=\"artist-top-tracks__card__info__artists__name\">\n                    {name}\n                  </div>\n                );\n              return (\n                <div className=\"artist-top-tracks__card__info__artists__name\">\n                  {name},\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </div>\n      <div className=\"artist-top-tracks__card__img\">\n        <div className=\"artist-top-tracks__card__play\">\n          <PlaySvg />\n        </div>\n        <img src={imageUrl} alt=\"album-art\" />\n      </div>\n    </div>\n  );\n};\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { AppContext } from \"../../AppContext\";\nimport { getUserTopArtists } from \"../../services/spotify-service\";\nimport { Artist } from \"../../services/spotify-types\";\nimport { StyledTitle } from \"../title/styled-title\";\nimport { SpotifyTopArtistsTracks } from \"./spotify-top-artist-tracks\";\nimport \"./spotify-top.scss\";\n\nconst SpotifyTopArtists = () => {\n  const { topArtists, setTopArtists, selectedTimeRange } = useContext(\n    AppContext\n  );\n\n  const [prevSelectedTimeRange, saveSelectedTimeRange] = useState(\n    selectedTimeRange\n  );\n  const [selectedArtist, setSelectedArtist] = useState({} as Artist);\n\n  const scrollSelector = (left: boolean) => {\n    const selectorElement = document.querySelector(\n      \".spotify-top__selector\"\n    ) as HTMLDivElement;\n    const scrollAmount = selectorElement.offsetWidth * (1 - 0.05);\n    selectorElement.scrollBy({\n      top: 0,\n      left: left ? -scrollAmount : scrollAmount,\n      behavior: \"smooth\",\n    });\n  };\n\n  useEffect(() => {\n    saveSelectedTimeRange(selectedTimeRange);\n\n    if (\n      !topArtists ||\n      topArtists.length < 1 ||\n      prevSelectedTimeRange !== selectedTimeRange\n    ) {\n      getUserTopArtists(`${selectedTimeRange}_term`).then((result) => {\n        setTopArtists(result.items);\n      });\n    }\n\n    setSelectedArtist(topArtists && topArtists[0]);\n    console.log(\"here\");\n    //TODO Scroll to start of selector\n  }, [prevSelectedTimeRange, selectedTimeRange, setTopArtists, topArtists]);\n\n  return (\n    <div className=\"spotify-top spotify-top--artists fade-in\">\n      <StyledTitle fontSize=\"60px\">Your top artists</StyledTitle>\n      <div className=\"spotify-top__scroll-buttons\"></div>\n      <div className=\"spotify-top__selector-container\">\n        <div\n          className=\"spotify-top__selector-container__scroll\"\n          onClick={() => scrollSelector(true)}\n        >\n          {\"<\"}\n        </div>\n        <div className=\"spotify-top__selector fade-in\">\n          {topArtists &&\n            topArtists.map((artist, index) => (\n              <ArtistSelector\n                artist={artist}\n                selected={artist === selectedArtist}\n                setSelectedArtist={setSelectedArtist}\n                key={index}\n              />\n            ))}\n        </div>\n        <div\n          className=\"spotify-top__selector-container__scroll\"\n          onClick={() => scrollSelector(false)}\n        >\n          {\">\"}\n        </div>\n      </div>\n\n      {selectedArtist && (\n        <div className=\"spotify-top__info\">\n          <SelectedArtist artist={selectedArtist} />\n          <SpotifyTopArtistsTracks artistId={selectedArtist.id} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst ArtistSelector = ({\n  artist,\n  selected,\n  setSelectedArtist,\n}: {\n  artist: Artist;\n  selected: boolean;\n  setSelectedArtist: Function;\n}) => {\n  return (\n    <div\n      onClick={() => {\n        setSelectedArtist(artist);\n      }}\n      className={`spotify-top__selector__item fade-in ${\n        selected ? \"spotify-top__selector__item--selected\" : \"\"\n      }`}\n    >\n      <img\n        alt=\"artist\"\n        width={150}\n        height={150}\n        src={artist.images ? artist.images[0].url : \"\"} //TODO Not found image and possibly use lower res spotify img\n      />\n      <div className=\"spotify-top__selector__item__name\">{artist.name}</div>\n    </div>\n  );\n};\n\nconst SelectedArtist = ({ artist }: { artist: Artist }) => {\n  return (\n    <div className=\"spotify-top__selected\">\n      <div className=\"spotify-top__selected__title\">\n        <div className=\"spotify-top__selected__title__name\">{artist.name} </div>\n        <div className=\"spotify-top__selected__title__popularity\">\n          <div>{artist.popularity}</div>\n        </div>\n      </div>\n      <div className=\"spotify-top__selected__details\">\n        {artist.genres && artist.genres.length > 0 && (\n          <div className=\"spotify-top__selected__info-tile\">\n            <div className=\"spotify-top__selected__info-tile__title\">\n              Genres\n            </div>\n            {artist.genres.map((genre, index) => (\n              <span key={index}>{genre}</span>\n            ))}\n          </div>\n        )}\n        {artist.followers && (\n          <div className=\"spotify-top__selected__info-tile\">\n            <div className=\"spotify-top__selected__info-tile__title\">\n              Followers\n            </div>\n            <div>\n              {Intl.NumberFormat(\"en-us\").format(artist.followers.total)}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SpotifyTopArtists;\n"],"sourceRoot":""}