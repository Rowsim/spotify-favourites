(this["webpackJsonpspotify-favourites"]=this["webpackJsonpspotify-favourites"]||[]).push([[5],{247:function(e,t,n){e.exports=n.p+"static/media/spotify-logo.e359ad39.svg"},248:function(e,t,n){},251:function(e,t,n){"use strict";n.r(t);var r=n(52),o=n(0),c=n.n(o),a=n(43),i=n(247),u=n.n(i);n(248);t.default=function(){var e=Object(o.useState)(""),t=Object(r.a)(e,2),n=t[0],i=t[1];return Object(o.useEffect)((function(){Object(a.d)().then(i)}),[]),c.a.createElement("div",{className:"spotify-sign-in"},c.a.createElement("a",{href:n,className:"spotify-sign-in__link"},c.a.createElement("div",null,"Connect Spotify"),c.a.createElement("img",{src:u.a,alt:"spotify-logo"})))}},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return h}));var r,o=n(44),c=n.n(o),a=n(53),i=n(42),u=n(59),s=n(93),f=n(94),p="a3c9a895bbe94102a08574ba4f4adc9e";!function(e){e.AUTH="authorization_code",e.REFRESH="refresh_token"}(r||(r={}));var l=function(){var e=Object(a.a)(c.a.mark((function e(){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u({length:48,type:"url-safe"}),localStorage.setItem("verifierCode",t),e.t0=g,e.next=5,s(t);case 5:return e.t1=e.sent,n=(0,e.t0)(e.t1),r=u({length:10,type:"url-safe"}),localStorage.setItem("stateCode",r),e.abrupt("return","https://accounts.spotify.com/authorize?response_type=code&client_id=".concat(p,"&redirect_uri=").concat("https://rowsim.github.io/callback","&code_challenge_method=S256&code_challenge=").concat(n,"&state=").concat(r,"&scope=").concat("user-top-read"));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(i.a)("spotifyToken");return e||(h(r.REFRESH)?localStorage.getItem("spotifyRefreshToken"):null)},h=function(){var e=Object(a.a)(c.a.mark((function e(t,n,o){var a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==r.REFRESH){e.next=5;break}return a={grant_type:t,refresh_token:localStorage.getItem("spotifyRefreshToken"),client_id:p},e.abrupt("return",b(a));case 5:if(localStorage.getItem("stateCode")!==n){e.next=10;break}return i={client_id:p,grant_type:t,code:o,redirect_uri:"https://rowsim.github.io/callback",code_verifier:localStorage.getItem("verifierCode")},e.next=9,b(i);case 9:return e.abrupt("return",e.sent);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),b=function(){var e=Object(a.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://accounts.spotify.com/api/token",{method:"POST",body:m(t),headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(!(r=e.sent).access_token){e.next=10;break}return Object(i.b)("spotifyToken",r.access_token,r.expires_in),localStorage.setItem("spotifyRefreshToken",r.refresh_token),e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){return e.toString(f).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},m=function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}},61:function(e,t){},62:function(e,t){},68:function(e,t){},69:function(e,t){},74:function(e,t){},75:function(e,t){},77:function(e,t){},79:function(e,t){},81:function(e,t){},84:function(e,t){},85:function(e,t){},90:function(e,t){},92:function(e,t){}}]);
//# sourceMappingURL=5.d3778ea4.chunk.js.map