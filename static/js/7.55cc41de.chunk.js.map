{"version":3,"sources":["components/toggle-button/styled-toggle.tsx","components/top-controls/favourites-options.tsx","components/top-controls/time-range.tsx","components/top-controls/user-icon.tsx","components/top-controls/top-controls.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js","services/spotify-auth.ts","services/spotify-service.ts"],"names":["StyledToggle","styled","div","props","selected","theme","background","primary","secondary","FavouritesType","useContext","AppContext","favouritesType","setFavouritesType","FavouritesOptionsContainer","onClick","TimeRange","selectedTimeRange","setSelectedTimeRange","handleClick","timeRange","spotifyTopElement","document","querySelector","style","opacity","setTimeout","TimeRangeContainer","UserIcon","userProfile","setUserProfile","useEffect","display_name","getUserProfile","then","result","StyledUserIcon","src","images","url","alt","target","href","external_urls","spotify","className","toLocaleLowerCase","TopControlsContainer","TopControls","_taggedTemplateLiteral","strings","raw","slice","Object","freeze","defineProperties","value","GrantType","cryptoRandomString","require","sha256","Base64","REDIRECT_URI","process","CLIENT_ID","spotifyAuthRequestUri","a","verifierCode","length","type","localStorage","setItem","base64URLEncode","challengeCode","stateCode","checkSpotifyTokenAndRefresh","token","getWithExpiry","getUserAccessToken","REFRESH","getItem","grantType","stateResponse","authCode","spotifyRefreshTokenRequest","grant_type","refresh_token","client_id","fetchTokenFromSpotify","spotifyTokenRequest","code","redirect_uri","code_verifier","fetch","method","body","encodeFormData","headers","spotifyTokens","json","tokens","access_token","setWithExpiry","expires_in","hash","toString","replace","data","keys","map","key","encodeURIComponent","join","SPOTIFY_API_URL","getUserTopArtists","limit","spotifyToken","console","log","Authorization","userTopArtistsResults","Promise","reject","getUserTopTracks","userTopTracksResponse","getArtistTopTracks","id","artistTopTracksResponse","userProfileResponse"],"mappings":"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","file":"static/js/7.55cc41de.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nexport const StyledToggle = styled.div<{ selected?: boolean }>`\n  color: ${(props) =>\n    props.selected ? props.theme.background : props.theme.primary};\n  background: ${(props) =>\n    props.selected ? props.theme.secondary : props.theme.background};\n  border: 1px solid ${(props) => props.theme.secondary};\n  padding: 6px;\n  font-weight: 500;\n  cursor: pointer;\n  font-size: 16px;\n  -moz-transition: all 0.2s ease-in;\n  -o-transition: all 0.2s ease-in;\n  -webkit-transition: all 0.2s ease-in;\n  transition: all 0.2s ease-in;\n  pointer-events: ${(props) => (props.selected ? \"none\" : \"auto\")};\n\n  &:hover {\n    color: ${(props) =>\n      props.selected ? props.theme.primary : props.theme.secondary};\n    cursor: ${(props) => (props.selected ? \"default\" : \"pointer\")};\n  }\n  &:active {\n    opacity: ${(props) => (props.selected ? \"1\" : \"0.6\")};\n  }\n`;\n","import React, { useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { AppContext } from \"../../AppContext\";\nimport { StyledToggle } from \"../toggle-button/styled-toggle\";\n\nexport const FavouritesType = () => {\n  const { favouritesType, setFavouritesType } = useContext(AppContext);\n\n  return (\n    <FavouritesOptionsContainer>\n      <StyledToggle\n        selected={favouritesType === \"tracks\"}\n        onClick={() => setFavouritesType(\"tracks\")}\n      >\n        Tracks\n      </StyledToggle>\n      <StyledToggle\n        selected={favouritesType === \"artists\"}\n        onClick={() => setFavouritesType(\"artists\")}\n      >\n        Artists\n      </StyledToggle>\n    </FavouritesOptionsContainer>\n  );\n};\n\nconst FavouritesOptionsContainer = styled.div`\n  display: flex;\n  align-items: center;\n  max-height: 33px;\n`;\n","import React, { useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { AppContext } from \"../../AppContext\";\nimport { StyledToggle } from \"../toggle-button/styled-toggle\";\n\nexport const TimeRange = () => {\n  const { selectedTimeRange, setSelectedTimeRange } = useContext(AppContext);\n\n  const handleClick = (timeRange: string) => {\n    const spotifyTopElement = document.querySelector(\n      \".spotify-top\"\n    ) as HTMLDivElement;\n    spotifyTopElement.style.opacity = \"0.2\";\n    setSelectedTimeRange(timeRange);\n    setTimeout(() => {\n      spotifyTopElement.style.opacity = \"1\";\n    }, 500);\n  };\n\n  return (\n    <TimeRangeContainer>\n      <StyledToggle\n        selected={selectedTimeRange === \"short\"}\n        onClick={() => handleClick(\"short\")}\n      >\n        Short\n      </StyledToggle>\n      <StyledToggle\n        selected={selectedTimeRange === \"medium\"}\n        onClick={() => handleClick(\"medium\")}\n      >\n        Medium\n      </StyledToggle>\n      <StyledToggle\n        selected={selectedTimeRange === \"long\"}\n        onClick={() => handleClick(\"long\")}\n      >\n        Long\n      </StyledToggle>\n    </TimeRangeContainer>\n  );\n};\n\nconst TimeRangeContainer = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  color: ${(props) => props.theme.primary};\n  max-height: 33px;\n\n  @media only screen and (max-width: 768px) {\n    flex-direction: column;\n    align-items: flex-end;\n    max-height: unset;\n  }\n`;\n","import React, { useContext, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { AppContext } from \"../../AppContext\";\nimport { getUserProfile } from \"../../services/spotify-service\";\n\nexport const UserIcon = () => {\n  const { userProfile, setUserProfile } = useContext(AppContext);\n\n  useEffect(() => {\n    if (!userProfile.display_name) {\n      getUserProfile().then((result) => setUserProfile(result));\n    }\n  });\n\n  return (\n    <>\n      {userProfile.display_name && (\n        <StyledUserIcon>\n          <img\n            src={userProfile.images ? userProfile.images[0].url : \"\"}\n            alt=\"profile\"\n          />\n          <a\n            target=\"blank\"\n            href={userProfile.external_urls.spotify}\n            className=\"user-name\"\n          >\n            {userProfile.display_name.toLocaleLowerCase()}\n          </a>\n        </StyledUserIcon>\n      )}\n    </>\n  );\n};\n\nconst StyledUserIcon = styled.div`\n  display: flex;\n  align-items: center;\n  margin-top: 2px;\n  cursor: pointer;\n\n  &:hover {\n    .user-name {\n      color: #fd6500;\n    }\n  }\n\n  img {\n    height: 32px;\n    width: 32px;\n    border-radius: 50%;\n    margin-right: 8px;\n  }\n\n  .user-name {\n    transition: color 0.3s ease-in-out;\n    font-size: 14px;\n    color: white;\n    text-decoration: underline;\n  }\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { FavouritesType } from \"./favourites-options\";\nimport { TimeRange } from \"./time-range\";\nimport { UserIcon } from \"./user-icon\";\n\nconst TopControls = () => (\n  <TopControlsContainer>\n    <FavouritesType />\n    <UserIcon />\n    <TimeRange />\n  </TopControlsContainer>\n);\n\nconst TopControlsContainer = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n`;\n\nexport default TopControls;\n","export default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}","import { getWithExpiry, setWithExpiry } from \"../util/storage-util\";\n\nconst cryptoRandomString = require(\"crypto-random-string\");\nconst sha256 = require(\"crypto-js/sha256\");\nconst Base64 = require(\"crypto-js/enc-base64\");\n\nconst REDIRECT_URI =\n  process.env.REACT_APP_AUTH_REDIRECT_URI || \"http://localhost:3000/callback\";\nconst CLIENT_ID = \"a3c9a895bbe94102a08574ba4f4adc9e\";\nconst REQUEST_SCOPES = \"user-top-read\";\n\nexport enum GrantType {\n  AUTH = \"authorization_code\",\n  REFRESH = \"refresh_token\",\n}\n\nexport const spotifyAuthRequestUri = async () => {\n  const verifierCode = cryptoRandomString({ length: 48, type: \"url-safe\" });\n  localStorage.setItem(\"verifierCode\", verifierCode);\n\n  const challengeCode = base64URLEncode(await sha256(verifierCode));\n\n  const stateCode = cryptoRandomString({ length: 10, type: \"url-safe\" });\n  localStorage.setItem(\"stateCode\", stateCode);\n\n  return `https://accounts.spotify.com/authorize?response_type=code&client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URI}&code_challenge_method=S256&code_challenge=${challengeCode}&state=${stateCode}&scope=${REQUEST_SCOPES}`;\n};\n\nexport const checkSpotifyTokenAndRefresh = () => {\n  const token = getWithExpiry(\"spotifyToken\");\n\n  if (token) {\n    return token;\n  } else if (getUserAccessToken(GrantType.REFRESH)) {\n    return localStorage.getItem(\"spotifyRefreshToken\");\n  }\n\n  return null;\n};\n\nexport const getUserAccessToken = async (\n  grantType: GrantType,\n  stateResponse?: string,\n  authCode?: string\n): Promise<boolean> => {\n  if (grantType === GrantType.REFRESH) {\n    const spotifyRefreshTokenRequest = {\n      grant_type: grantType,\n      refresh_token: localStorage.getItem(\"spotifyRefreshToken\"),\n      client_id: CLIENT_ID,\n    };\n\n    return fetchTokenFromSpotify(spotifyRefreshTokenRequest);\n  } else if (localStorage.getItem(\"stateCode\") === stateResponse) {\n    const spotifyTokenRequest = {\n      client_id: CLIENT_ID,\n      grant_type: grantType,\n      code: authCode,\n      redirect_uri: REDIRECT_URI,\n      code_verifier: localStorage.getItem(\"verifierCode\"),\n    };\n\n    return await fetchTokenFromSpotify(spotifyTokenRequest);\n  }\n\n  return false;\n};\n\nconst fetchTokenFromSpotify = async (spotifyTokenRequest: {}): Promise<\n  boolean\n> => {\n  const spotifyTokens = await fetch(\"https://accounts.spotify.com/api/token\", {\n    method: \"POST\",\n    body: encodeFormData(spotifyTokenRequest),\n    headers: {\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n    },\n  });\n\n  const tokens = await spotifyTokens.json();\n  if (tokens.access_token) {\n    setWithExpiry(\"spotifyToken\", tokens.access_token, tokens.expires_in);\n    localStorage.setItem(\"spotifyRefreshToken\", tokens.refresh_token);\n    return true;\n  }\n\n  return false;\n};\n\nconst base64URLEncode = (hash: any): string => {\n  return hash\n    .toString(Base64)\n    .replace(/=/g, \"\")\n    .replace(/\\+/g, \"-\")\n    .replace(/\\//g, \"_\");\n};\n\nconst encodeFormData = (data: any) => {\n  return Object.keys(data)\n    .map((key) => encodeURIComponent(key) + \"=\" + encodeURIComponent(data[key]))\n    .join(\"&\");\n};\ninterface UserToken {\n  access_token: string;\n  refresh_token: string;\n  expires_in: number;\n}\n","import { checkSpotifyTokenAndRefresh } from \"./spotify-auth\";\nimport { Artist, Track, UserProfile } from \"./spotify-types\";\n\nconst SPOTIFY_API_URL = \"https://api.spotify.com/v1\";\n\nexport const getUserTopArtists = async (\n  timeRange: string,\n  limit?: number\n): Promise<UserTopArtists> => {\n  const spotifyToken = checkSpotifyTokenAndRefresh();\n  if (spotifyToken) {\n    console.log(`GET ${SPOTIFY_API_URL}/me/top/artists`);\n    const userTopArtistsResults = await fetch(\n      `${SPOTIFY_API_URL}/me/top/artists?time_range=${timeRange}${\n        limit ? `&limit=${limit}` : \"\"\n      }`,\n      {\n        method: \"GET\",\n        headers: {\n          Authorization: `Bearer ${spotifyToken}`,\n        },\n      }\n    );\n\n    return userTopArtistsResults.json();\n  }\n\n  return Promise.reject(\"Invalid spotify auth token :(\");\n};\n\nexport const getUserTopTracks = async (\n  timeRange: string,\n  limit?: number\n): Promise<UserTopTracks> => {\n  const spotifyToken = checkSpotifyTokenAndRefresh();\n  if (spotifyToken) {\n    console.log(`GET ${SPOTIFY_API_URL}/me/top/tracks`);\n    const userTopTracksResponse = await fetch(\n      `${SPOTIFY_API_URL}/me/top/tracks?time_range=${timeRange}${\n        limit ? `&limit=${limit}` : \"\"\n      }`,\n      {\n        method: \"GET\",\n        headers: {\n          Authorization: `Bearer ${spotifyToken}`,\n        },\n      }\n    );\n\n    return userTopTracksResponse.json();\n  }\n\n  return Promise.reject(\"Invalid spotify auth token :(\");\n};\n\nexport const getArtistTopTracks = async (\n  id: string\n): Promise<ArtistTopTracks> => {\n  const spotifyToken = checkSpotifyTokenAndRefresh();\n  if (spotifyToken) {\n    console.log(`GET ${SPOTIFY_API_URL}/artists/${id}/top-tracks`);\n    const artistTopTracksResponse = await fetch(\n      ` ${SPOTIFY_API_URL}/artists/${id}/top-tracks?market=GB`,\n      {\n        method: \"GET\",\n        headers: {\n          Authorization: `Bearer ${spotifyToken}`,\n        },\n      }\n    );\n\n    return artistTopTracksResponse.json();\n  }\n\n  return Promise.reject(\"Invalid spotify auth token :(\");\n};\n\nexport const getUserProfile = async (): Promise<UserProfile> => {\n  const spotifyToken = checkSpotifyTokenAndRefresh();\n  if (spotifyToken) {\n    console.log(`GET ${SPOTIFY_API_URL}/me`);\n    const userProfileResponse = await fetch(` ${SPOTIFY_API_URL}/me`, {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${spotifyToken}`,\n      },\n    });\n\n    return userProfileResponse.json();\n  }\n\n  return Promise.reject(\"Invalid spotify auth token :(\");\n};\n\ninterface UserTopArtists {\n  items: Array<Artist>;\n}\n\ninterface UserTopTracks {\n  items: Array<Track>;\n}\n\ninterface ArtistTopTracks {\n  tracks: Array<Track>;\n}\n"],"sourceRoot":""}