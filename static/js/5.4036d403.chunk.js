(this["webpackJsonpspotify-favourites"]=this["webpackJsonpspotify-favourites"]||[]).push([[5],{214:function(e,t,n){e.exports=n.p+"static/media/spotify-logo.e359ad39.svg"},215:function(e,t,n){},218:function(e,t,n){"use strict";n.r(t);var r=n(47),a=n(0),c=n.n(a),o=n(39),s=n(214),i=n.n(s);n(215);t.default=function(){var e=Object(a.useState)(""),t=Object(r.a)(e,2),n=t[0],s=t[1];return Object(a.useEffect)((function(){Object(o.d)().then(s)}),[]),c.a.createElement("div",{className:"spotify-sign-in"},c.a.createElement("a",{href:n,className:"spotify-sign-in__link"},c.a.createElement("div",null,"Connect Spotify"),c.a.createElement("img",{src:i.a,alt:"spotify-logo"})))}},39:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return h}));var r,a=n(40),c=n.n(a),o=n(48),s=n(38),i=n(54),u=n(76),f=n(77),p="a3c9a895bbe94102a08574ba4f4adc9e";!function(e){e.AUTH="authorization_code",e.REFRESH="refresh_token"}(r||(r={}));var l=function(){var e=Object(o.a)(c.a.mark((function e(){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i({length:48,type:"url-safe"}),localStorage.setItem("verifierCode",t),e.t0=b,e.next=5,u(t);case 5:return e.t1=e.sent,n=(0,e.t0)(e.t1),r=i({length:10,type:"url-safe"}),localStorage.setItem("stateCode",r),e.abrupt("return","https://accounts.spotify.com/authorize?response_type=code&client_id=".concat(p,"&redirect_uri=").concat("http://localhost:3000/callback","&code_challenge_method=S256&code_challenge=").concat(n,"&state=").concat(r,"&scope=").concat("user-top-read,streaming,user-read-recently-played,user-read-playback-state,user-library-read,user-read-currently-playing,user-modify-playback-state"));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(s.a)("spotifyToken");return e||(h(r.REFRESH)?localStorage.getItem("spotifyRefreshToken"):null)},h=function(){var e=Object(o.a)(c.a.mark((function e(t,n,a){var o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==r.REFRESH){e.next=5;break}return o={grant_type:t,refresh_token:localStorage.getItem("spotifyRefreshToken"),client_id:p},e.abrupt("return",y(o));case 5:if(localStorage.getItem("stateCode")!==n){e.next=10;break}return s={client_id:p,grant_type:t,code:a,redirect_uri:"http://localhost:3000/callback",code_verifier:localStorage.getItem("verifierCode")},e.next=9,y(s);case 9:return e.abrupt("return",e.sent);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),y=function(){var e=Object(o.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://accounts.spotify.com/api/token",{method:"POST",body:g(t),headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(!(r=e.sent).access_token){e.next=10;break}return Object(s.b)("spotifyToken",r.access_token,r.expires_in),localStorage.setItem("spotifyRefreshToken",r.refresh_token),e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e){return e.toString(f).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},g=function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}},60:function(e,t){},61:function(e,t){},69:function(e,t){},71:function(e,t){}}]);
//# sourceMappingURL=5.4036d403.chunk.js.map