{"version":3,"sources":["assets/images/play-arrow.svg","assets/images/pause.svg","assets/images/next.svg","components/player/player.tsx","components/player/player-container.tsx","services/spotify-auth.ts","services/spotify-player-service.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","d","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","SvgPlayArrow","_ref","svgRef","title","props","id","x","y","width","height","viewBox","style","enableBackground","xmlSpace","ref","ForwardRef","forwardRef","SvgPause","Player","spotifyPlayerState","useContext","PlayerContext","isPlaying","paused","currentTrackImg","track_window","current_track","album","images","url","prevTrackImg","previous_tracks","nextTrackImg","next_tracks","className","onClick","previous","src","alt","pause","play","next","loadSpotifySDKScript","script","document","async","body","appendChild","PlayerContainer","setDeviceId","setSpotifyPlayerState","trackHistory","setTrackHistory","useEffect","spotifyScript","window","onSpotifyWebPlaybackSDKReady","token","checkSpotifyTokenAndRefresh","player","Spotify","name","getOAuthToken","cb","addListener","message","console","error","state","log","currentTrack","newTrackHistory","isDuplicate","forEach","track","uri","push","addTrackToHistory","device_id","setActivePlayer","connect","removeChild","GrantType","cryptoRandomString","require","sha256","Base64","REDIRECT_URI","process","CLIENT_ID","spotifyAuthRequestUri","a","verifierCode","type","localStorage","setItem","base64URLEncode","challengeCode","stateCode","getWithExpiry","getUserAccessToken","REFRESH","getItem","grantType","stateResponse","authCode","spotifyRefreshTokenRequest","grant_type","refresh_token","client_id","fetchTokenFromSpotify","spotifyTokenRequest","code","redirect_uri","code_verifier","fetch","method","encodeFormData","headers","spotifyTokens","json","tokens","access_token","setWithExpiry","expires_in","hash","toString","replace","data","map","encodeURIComponent","join","SPOTIFY_API_URL","playTrack","trackUris","spotifyToken","Authorization","JSON","stringify","uris","playerId","device_ids","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError"],"mappings":"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","file":"static/js/6.c4230cdf.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M34.857,3.613C20.084-4.861,8.107,2.081,8.107,19.106v125.637c0,17.042,11.977,23.975,26.75,15.509L144.67,97.275 c14.778-8.477,14.778-22.211,0-30.686L34.857,3.613z\"\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgPlayArrow = function SvgPlayArrow(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"163.861px\",\n    height: \"163.861px\",\n    viewBox: \"0 0 163.861 163.861\",\n    style: {\n      enableBackground: \"new 0 0 163.861 163.861\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPlayArrow, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/play-arrow.48922f83.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M256,0C114.615,0,0,114.615,0,256s114.615,256,256,256s256-114.615,256-256S397.385,0,256,0z M230.4,358.4 c0,14.138-11.462,25.6-25.6,25.6h-25.6c-14.138,0-25.6-11.461-25.6-25.6V153.6c0-14.139,11.461-25.6,25.6-25.6h25.6 c14.138,0,25.6,11.461,25.6,25.6V358.4z M358.4,358.4c0,14.138-11.462,25.6-25.6,25.6h-25.6c-14.138,0-25.6-11.461-25.6-25.6 V153.6c0-14.139,11.461-25.6,25.6-25.6h25.6c14.138,0,25.6,11.461,25.6,25.6V358.4z\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgPause = function SvgPause(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512 512\",\n    style: {\n      enableBackground: \"new 0 0 512 512\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPause, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/pause.7a81655a.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M256,0C114.837,0,0,114.837,0,256s114.837,256,256,256s256-114.837,256-256S397.163,0,256,0z M335.083,271.083 L228.416,377.749c-4.16,4.16-9.621,6.251-15.083,6.251c-5.461,0-10.923-2.091-15.083-6.251c-8.341-8.341-8.341-21.824,0-30.165 L289.835,256l-91.584-91.584c-8.341-8.341-8.341-21.824,0-30.165s21.824-8.341,30.165,0l106.667,106.667 C343.424,249.259,343.424,262.741,335.083,271.083z\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgNext = function SvgNext(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512 512\",\n    style: {\n      enableBackground: \"new 0 0 512 512\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgNext, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/next.960d62a3.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useContext } from \"react\";\nimport {\n  pause,\n  play,\n  previous,\n  next,\n} from \"../../services/spotify-player-service\";\nimport { PlayerContext } from \"./PlayerContext\";\nimport { ReactComponent as PlaySvg } from \"../../assets/images/play-arrow.svg\";\nimport { ReactComponent as PauseSvg } from \"../../assets/images/pause.svg\";\nimport { ReactComponent as NextSvg } from \"../../assets/images/next.svg\";\nimport \"./player.scss\";\n\nexport const Player = () => {\n  const { spotifyPlayerState } = useContext(PlayerContext);\n  const isPlaying = !spotifyPlayerState?.paused;\n\n  const handlePlayClick = () => {\n    isPlaying ? pause() : play();\n  };\n\n  const currentTrackImg =\n    spotifyPlayerState?.track_window?.current_track?.album?.images[0]?.url;\n  const prevTrackImg =\n    spotifyPlayerState?.track_window?.previous_tracks[0]?.album?.images[0]?.url;\n  const nextTrackImg =\n    spotifyPlayerState?.track_window?.next_tracks[0]?.album?.images[0]?.url;\n\n  return (\n    <div className=\"player\">\n      <div className=\"player__previous\" onClick={previous}>\n        <div className=\"player__previous__btn\">\n          <NextSvg />\n        </div>\n        {prevTrackImg && <img src={prevTrackImg} alt=\"previous-track\" />}\n      </div>\n\n      <div className=\"player__current\" onClick={handlePlayClick}>\n        <div className=\"player__current__play\">\n          {isPlaying ? <PauseSvg /> : <PlaySvg />}\n        </div>\n        {currentTrackImg && <img src={currentTrackImg} alt=\"current-track\" />}\n      </div>\n\n      <div className=\"player__next\" onClick={next}>\n        <div className=\"player__next__btn\">\n          <NextSvg />\n        </div>\n        {nextTrackImg && <img src={nextTrackImg} alt=\"next-track\" />}\n      </div>\n    </div>\n  );\n};\n","// @ts-nocheck\nimport React, { useContext, useEffect } from \"react\";\nimport { checkSpotifyTokenAndRefresh } from \"../../services/spotify-auth\";\nimport { setActivePlayer } from \"../../services/spotify-player-service\";\nimport { PlayerTrack, SpotifyPlayerState } from \"../../services/spotify-types\";\nimport { Player } from \"./player\";\nimport { PlayerContext } from \"./PlayerContext\";\n\nconst PlayerContainer = () => {\n  const {\n    setDeviceId,\n    setSpotifyPlayerState,\n    trackHistory,\n    setTrackHistory,\n  } = useContext(PlayerContext);\n\n  useEffect(() => {\n    const spotifyScript = loadSpotifySDKScript();\n    window.onSpotifyWebPlaybackSDKReady = () => {\n      const token = checkSpotifyTokenAndRefresh();\n      const player: any = new Spotify.Player({\n        name: \"Spotify Favourites Web Player\",\n        getOAuthToken: (cb) => {\n          cb(token);\n        },\n      });\n\n      const addTrackToHistory = (currentTrack: PlayerTrack) => {\n        // TODO investiagte why trackHistory isn't appearing\n        console.log(\"trackHistory \", trackHistory);\n        const newTrackHistory = [...trackHistory];\n        console.log(\"newTrackHistory \", newTrackHistory);\n        let isDuplicate = false;\n        trackHistory.forEach((track) => {\n          if (track.uri === currentTrack.uri) isDuplicate = true;\n        });\n        if (!isDuplicate) {\n          newTrackHistory.push(currentTrack);\n          setTrackHistory(newTrackHistory);\n        }\n      };\n\n      player.addListener(\"initialization_error\", ({ message }) => {\n        console.error(message);\n      });\n      player.addListener(\"authentication_error\", ({ message }) => {\n        console.error(message);\n      });\n      player.addListener(\"account_error\", ({ message }) => {\n        console.error(message);\n      });\n      player.addListener(\"playback_error\", ({ message }) => {\n        console.error(message);\n      });\n\n      player.addListener(\n        \"player_state_changed\",\n        (state: SpotifyPlayerState) => {\n          console.log(state);\n          setSpotifyPlayerState(state);\n          addTrackToHistory(state?.track_window?.current_track);\n        }\n      );\n\n      player.addListener(\"ready\", ({ device_id }) => {\n        console.log(\"Ready with Device ID\", device_id);\n        setActivePlayer(device_id);\n        setDeviceId(device_id); // Todo might not need this in state..\n      });\n\n      player.addListener(\"not_ready\", ({ device_id }) => {\n        console.log(\"Device ID has gone offline\", device_id);\n      });\n\n      player.connect();\n    };\n\n    return () => {\n      document.body.removeChild(spotifyScript);\n    };\n  }, []);\n\n  return <Player />;\n};\n\nconst loadSpotifySDKScript = () => {\n  const script = document.createElement(\"script\");\n  script.async = true;\n  script.src = \"https://sdk.scdn.co/spotify-player.js\";\n  document.body.appendChild(script);\n  return script;\n};\n\nexport default PlayerContainer;\n","import { getWithExpiry, setWithExpiry } from \"../util/storage-util\";\n\nconst cryptoRandomString = require(\"crypto-random-string\");\nconst sha256 = require(\"crypto-js/sha256\");\nconst Base64 = require(\"crypto-js/enc-base64\");\n\nconst REDIRECT_URI =\n  process.env.REACT_APP_AUTH_REDIRECT_URI || \"http://localhost:3000/callback\";\nconst CLIENT_ID = \"a3c9a895bbe94102a08574ba4f4adc9e\";\nconst REQUEST_SCOPES = \"user-top-read streaming\";\n\nexport enum GrantType {\n  AUTH = \"authorization_code\",\n  REFRESH = \"refresh_token\",\n}\n\nexport const spotifyAuthRequestUri = async () => {\n  const verifierCode = cryptoRandomString({ length: 48, type: \"url-safe\" });\n  localStorage.setItem(\"verifierCode\", verifierCode);\n\n  const challengeCode = base64URLEncode(await sha256(verifierCode));\n\n  const stateCode = cryptoRandomString({ length: 10, type: \"url-safe\" });\n  localStorage.setItem(\"stateCode\", stateCode);\n\n  return `https://accounts.spotify.com/authorize?response_type=code&client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URI}&code_challenge_method=S256&code_challenge=${challengeCode}&state=${stateCode}&scope=${REQUEST_SCOPES}`;\n};\n\nexport const checkSpotifyTokenAndRefresh = () => {\n  const token = getWithExpiry(\"spotifyToken\");\n\n  if (token) {\n    return token;\n  } else if (getUserAccessToken(GrantType.REFRESH)) {\n    return localStorage.getItem(\"spotifyRefreshToken\");\n  }\n\n  return null;\n};\n\nexport const getUserAccessToken = async (\n  grantType: GrantType,\n  stateResponse?: string,\n  authCode?: string\n): Promise<boolean> => {\n  if (grantType === GrantType.REFRESH) {\n    const spotifyRefreshTokenRequest = {\n      grant_type: grantType,\n      refresh_token: localStorage.getItem(\"spotifyRefreshToken\"),\n      client_id: CLIENT_ID,\n    };\n\n    return fetchTokenFromSpotify(spotifyRefreshTokenRequest);\n  } else if (localStorage.getItem(\"stateCode\") === stateResponse) {\n    const spotifyTokenRequest = {\n      client_id: CLIENT_ID,\n      grant_type: grantType,\n      code: authCode,\n      redirect_uri: REDIRECT_URI,\n      code_verifier: localStorage.getItem(\"verifierCode\"),\n    };\n\n    return await fetchTokenFromSpotify(spotifyTokenRequest);\n  }\n\n  return false;\n};\n\nconst fetchTokenFromSpotify = async (spotifyTokenRequest: {}): Promise<\n  boolean\n> => {\n  const spotifyTokens = await fetch(\"https://accounts.spotify.com/api/token\", {\n    method: \"POST\",\n    body: encodeFormData(spotifyTokenRequest),\n    headers: {\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n    },\n  });\n\n  const tokens = await spotifyTokens.json();\n  if (tokens.access_token) {\n    setWithExpiry(\"spotifyToken\", tokens.access_token, tokens.expires_in);\n    localStorage.setItem(\"spotifyRefreshToken\", tokens.refresh_token);\n    return true;\n  }\n\n  return false;\n};\n\nconst base64URLEncode = (hash: any): string => {\n  return hash\n    .toString(Base64)\n    .replace(/=/g, \"\")\n    .replace(/\\+/g, \"-\")\n    .replace(/\\//g, \"_\");\n};\n\nconst encodeFormData = (data: any) => {\n  return Object.keys(data)\n    .map((key) => encodeURIComponent(key) + \"=\" + encodeURIComponent(data[key]))\n    .join(\"&\");\n};\ninterface UserToken {\n  access_token: string;\n  refresh_token: string;\n  expires_in: number;\n}\n","import { checkSpotifyTokenAndRefresh } from \"./spotify-auth\";\n\nconst SPOTIFY_API_URL = \"https://api.spotify.com/v1/me/player\";\n\nexport const playTrack = async (trackUris: string[]) => {\n  const spotifyToken = checkSpotifyTokenAndRefresh();\n\n  fetch(`${SPOTIFY_API_URL}/play`, {\n    method: \"PUT\",\n    headers: {\n      Authorization: `Bearer ${spotifyToken}`,\n    },\n    body: JSON.stringify({ uris: trackUris }),\n  });\n};\n\nexport const play = async () => {\n  const spotifyToken = checkSpotifyTokenAndRefresh();\n\n  fetch(`${SPOTIFY_API_URL}/play`, {\n    method: \"PUT\",\n    headers: {\n      Authorization: `Bearer ${spotifyToken}`,\n    },\n  });\n};\n\nexport const pause = async () => {\n  const spotifyToken = checkSpotifyTokenAndRefresh();\n\n  fetch(`${SPOTIFY_API_URL}/pause`, {\n    method: \"PUT\",\n    headers: {\n      Authorization: `Bearer ${spotifyToken}`,\n    },\n  });\n};\n\nexport const next = async () => {\n  const spotifyToken = checkSpotifyTokenAndRefresh();\n\n  fetch(`${SPOTIFY_API_URL}/next`, {\n    method: \"POST\",\n    headers: {\n      Authorization: `Bearer ${spotifyToken}`,\n    },\n  });\n};\n\nexport const previous = async () => {\n  const spotifyToken = checkSpotifyTokenAndRefresh();\n\n  fetch(`${SPOTIFY_API_URL}/previous`, {\n    method: \"POST\",\n    headers: {\n      Authorization: `Bearer ${spotifyToken}`,\n    },\n  });\n};\n\nexport const setActivePlayer = async (playerId: string, play = false) => {\n  const spotifyToken = checkSpotifyTokenAndRefresh();\n\n  fetch(SPOTIFY_API_URL, {\n    method: \"PUT\",\n    headers: {\n      Authorization: `Bearer ${spotifyToken}`,\n    },\n    body: JSON.stringify({ device_ids: [playerId], play }),\n  });\n};\n","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"sourceRoot":""}